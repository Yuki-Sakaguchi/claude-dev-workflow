# Issue作成テンプレート

## 概要

Claude Codeが要件定義からGitHub Issueを自動作成する際のテンプレートです。
`workflow/git-workflow.md`および`workflow/development-flow.md`と連携して、一貫性のあるIssue管理を実現します。

## 基本Issueテンプレート

### 機能実装Issue

```markdown
## 概要
{機能の概要を1-2行で}

## 背景・目的
{なぜこの機能が必要なのか}

## アクセプタンス基準
- [ ] {完了条件1}
- [ ] {完了条件2}
- [ ] {完了条件3}

## 実装内容
### フロントエンド
- [ ] {コンポーネント作成}
- [ ] {状態管理}
- [ ] {UI/UX実装}

### バックエンド
- [ ] {API設計・実装}
- [ ] {データベース設計}
- [ ] {ビジネスロジック}

### テスト
- [ ] 単体テスト実装
- [ ] 統合テスト実装（該当する場合）
- [ ] E2Eテスト実装（重要機能の場合）
- [ ] Storybookストーリー作成（UIコンポーネントの場合）

## 技術的詳細
### 使用技術・ライブラリ
- {使用予定の技術スタック}

### API仕様（該当する場合）
```
エンドポイント: POST /api/{endpoint}
リクエスト: {request body}
レスポンス: {response body}
```

### データベース変更（該当する場合）
- [ ] テーブル作成/変更
- [ ] インデックス追加
- [ ] マイグレーション作成

## 設計・UI
### ワイヤーフレーム・モックアップ
{デザイン資料のリンクまたは簡単な説明}

### 参考資料
- {参考URL}
- {競合調査結果}

## 関連Issue・依存関係
- 依存: #{依存するIssue番号}
- 関連: #{関連するIssue番号}
- ブロック: #{この機能によってブロックされるIssue番号}

## 見積もり
**想定工数**: {X}日
**複雑度**: 低 / 中 / 高
**優先度**: Critical / Important / Normal

## 完了の定義 (Definition of Done)
- [ ] 全アクセプタンス基準を満たす
- [ ] 全テストが通過
- [ ] コードレビュー完了
- [ ] ドキュメント更新完了
- [ ] プロダクションデプロイ完了

---
**Phase**: Phase1 / Phase2 / Phase3
**カテゴリ**: feature / bug / enhancement / docs
```

## バグ修正Issue

```markdown
## バグ概要
{バグの簡潔な説明}

## 再現手順
1. {手順1}
2. {手順2}
3. {手順3}

## 期待される動作
{本来はどう動作すべきか}

## 実際の動作
{現在どう動作しているか}

## 環境情報
- OS: {macOS / Windows / Linux}
- ブラウザ: {Chrome / Firefox / Safari} {バージョン}
- デバイス: {Desktop / Mobile / Tablet}

## エラーログ・スクリーンショット
```
{エラーメッセージやスクリーンショット}
```

## 影響範囲
**重要度**: Critical / High / Medium / Low
**影響するユーザー**: {全ユーザー / 特定条件のユーザー / 開発者のみ}

## 修正方針
{修正のアプローチ案}

## テスト計画
- [ ] 修正内容の単体テスト
- [ ] 回帰テスト実施
- [ ] 関連機能の動作確認

---
**Phase**: Hotfix
**カテゴリ**: bug
```

## 環境構築・設定Issue

```markdown
## 概要
{環境構築・設定の内容}

## 対象環境
- [ ] 開発環境
- [ ] ステージング環境
- [ ] 本番環境

## 実施内容
### インフラ・デプロイ
- [ ] {サーバー設定}
- [ ] {ドメイン設定}
- [ ] {SSL証明書設定}

### CI/CD
- [ ] {ビルドパイプライン設定}
- [ ] {テスト自動実行設定}
- [ ] {デプロイ自動化設定}

### 監視・ログ
- [ ] {監視ツール設定}
- [ ] {ログ収集設定}
- [ ] {アラート設定}

## 設定ファイル・ドキュメント
- [ ] 設定ファイル作成・更新
- [ ] README.md更新
- [ ] setup.md更新

## 確認項目
- [ ] {動作確認手順1}
- [ ] {動作確認手順2}
- [ ] {パフォーマンス確認}

---
**Phase**: Phase1
**カテゴリ**: setup
```

## Claude Code向け自動生成ルール

### Issueタイトル形式
```
{カテゴリ}: {簡潔な機能説明} #{Phase番号}
```

**例**:
- `feat: ユーザーログイン機能 #Phase1`
- `bug: ログイン時のエラーハンドリング修正 #Hotfix`
- `setup: CI/CD環境構築 #Phase1`

### ラベル自動付与ルール

**Phase分類**:
- `Phase1` - MVP必須機能
- `Phase2` - 重要機能
- `Phase3` - 追加機能
- `Hotfix` - 緊急修正

**カテゴリ分類**:
- `feature` - 新機能実装
- `bug` - バグ修正
- `enhancement` - 既存機能改善
- `docs` - ドキュメント更新
- `setup` - 環境構築・設定

**優先度**:
- `Critical` - 必須（ブロッカー）
- `Important` - 重要
- `Normal` - 通常

### アクセプタンス基準自動生成

**機能の重要度判定**:
```javascript
// Claude Codeの自動判定ロジック例
function generateAcceptanceCriteria(feature, importance) {
  const baseCriteria = [
    "機能が仕様通りに動作する",
    "エラーハンドリングが適切に実装されている",
    "テストが全て通過する"
  ];
  
  if (importance === 'Critical') {
    return baseCriteria.concat([
      "E2Eテストが通過する",
      "パフォーマンス要件を満たす",
      "セキュリティ要件を満たす"
    ]);
  }
  
  return baseCriteria;
}
```

## Claude Code実行例

### 理想的な自動Issue作成

**ユーザー**: "要件定義書からGitHub Issueを作成して"

**Claude Code実行内容**:
```
要件定義書を分析して、以下のIssueを作成します：

Phase1 (MVP):
1. feat: ユーザー登録機能 #Phase1
2. feat: ユーザーログイン機能 #Phase1  
3. feat: タスク基本CRUD機能 #Phase1
4. setup: CI/CD環境構築 #Phase1

Phase2:
5. feat: カテゴリ分類機能 #Phase2
6. feat: 検索・フィルタ機能 #Phase2

Phase3:
7. feat: 通知機能 #Phase3
8. feat: データエクスポート機能 #Phase3

各Issueに適切なアクセプタンス基準とテンプレートを適用します。
```

### Issue更新の自動実行

**機能実装完了時**:
```bash
# Claude Code自動実行
1. Issue内のタスクチェック更新
2. 関連Issueとの依存関係更新
3. 次のPhaseのIssue優先度調整
```

## 品質チェックポイント

### Issue作成時の確認項目
- [ ] タイトルが命名規則に従っている
- [ ] 適切なラベルが付与されている
- [ ] アクセプタンス基準が明確
- [ ] 見積もりが適切
- [ ] 依存関係が整理されている

### Issue管理の継続的改善
- **週次**: Phase進捗の確認・調整
- **月次**: Issue粒度の見直し
- **リリース後**: 見積もり精度の振り返り